\section{Evaluation}
\label{s:eval}

The evaluation tries to answer the following questions.
\begin{itemize}
\item
Is \sys effective to catch integer errors in buggy code?
\item
Will \sys declare that patched code does not contain no integer errors?
\item
Can \sys find integer errors in real-world systems?
\end{itemize}

\subsection{Validation}

We have collected XXX integer errors (both original and patched
code snippets) in the Linux kernel from the CVE list~\cite{cve} in
recent three years and use them as the benchmark to validate \sys.

\newcommand{\ok}{\textcolor{JungleGreen}{\checkmark}\xspace}
\newcommand{\checked}{$\boxtimes$}
\begin{figure*}
\centering
\footnotesize
\input{data/cve}
\caption{The result of applying \sys to integer errors in Linux
kernel from the CVE list.}
\end{figure*}

\subsubsection{False Negatives}

\sys does not catch two integer errors, both of which have been
discussed in \autoref{s:gen:limit}.  We detail them below.

\xw{show code?}

\paragraph{CVE-2009-4307.}
\sys is able to detect the oversized shift, but does not catch the
division by zero, which could happen on PowerPC but not x86, since
\sys's default semantics does not model the PowerPC architecture.

\paragraph{CVE-2010-3865.}
The addition overflow happens in a loop, which is an accumulation.
\sys cannot catch the bug since it unrolls the loop only once.

\subsubsection{False Positives and New Bugs}


\subsection{Case Study}

We periodically run \sys over the source code of the mainline Linux
kernel and submit patches for the integer errors \sys has reported.
\autoref{f:data:linux} shows our findings.

The ``Patch accepted?'' column shows how the kernel developers
respond to our patches.
\begin{itemize}
\item
Check mark: they have accepted our patch.  We
additional specify which repository the patch goes into, e.g.,
(net-next), if that patch has not reached the mainline.
\item
Modified: they have modified our patch for inclusion.
\item
Acknowledged: they have acknowledged the bug and the patch, but we
cannot find the patch showing up in any repository.
\item
Fixed by others: the bug was fixed independently by others in some
repository but did not reach the mainline when \sys found it.
\end{itemize}
We omit patches that does not get further responses. [[[numbers?]]]

\begin{figure*}
\centering
\footnotesize
\input{data/linux}
\caption{Integer errors found in the latest Linux kernel by \sys.}
\label{f:data:linux}
\end{figure*}

User-space applications.

Though currently \sys's annotations and ranking heuristics are
tailored for the Linux kernel, We also run \sys over the code of
two popular user-space applications.  The developers have promptly
fixed 5 integer errors reported by \sys: 1 for lighttpd and 4 for
OpenSSH.

\subsection{Patching}

What do patches look like?

simple sanity check.
- return -EINVAL or silently limit the value (e.g., timeout).

interface change (e.g., CVE-2009-2909)
sometimes infeasible if the interface is exposed to userspace.

misread specification (CAN bits).
